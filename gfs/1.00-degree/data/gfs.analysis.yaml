mover:
  name: mpidatamover

directories:
  zarr: ${SCRATCH}/anemoi-house/gfs/1.00-degree/data/gfs.analysis.zarr
  cache: ${SCRATCH}/anemoi-house/gfs/1.00-degree/data/cache/gfs-analysis
  logs: ${SCRATCH}/anemoi-house/gfs/1.00-degree/data/logs/gfs-analysis

source:
  name: gfs_archive
  t0:
    start: 2015-02-01T06
    end: 2024-01-31T18
    freq: 6h

  fhr:
    start: 0
    end: 0
    step: 6

  variables:
    # 3D Prognostic
    - gh
    - u
    - v
    - w
    - t
    - q
    # 2D Prognostic
    - sp
    - u10
    - v10
    - t2m
    - t_surface
    - sh2
    # Diagnostic
    - u80
    - v80
    # Forcing
    - lsm
    - orog

  levels:
    - 100
    - 150
    - 200
    - 250
    - 300
    - 400
    - 500
    - 600
    - 700
    - 850
    - 925
    - 1000

  slices:
    sel:
      latitude: [89.9, -89.9]

transforms:
  horizontal_regrid:
    target_grid_path: ${SCRATCH}/anemoi-house/gfs/1.00-degree/data/global_one_degree.nc
    regridder_kwargs:
      method: conservative
      reuse_weights: True
      filename: ${SCRATCH}/anemoi-house/gfs/1.00-degree/data/conservative_719x1440_180x360.nc

target:
  name: anemoi
  sort_channels_by_levels: True
  compute_temporal_residual_statistics: True
  statistics_period:
    start: 2015-02-01T06
    end: 2023-01-31T18
  forcings:
    - cos_latitude
    - sin_latitude
    - cos_longitude
    - sin_longitude
    - cos_julian_day
    - sin_julian_day
    - cos_local_time
    - sin_local_time
    - insolation

  chunks:
    time: 1
    variable: -1
    ensemble: 1
    cell: -1
